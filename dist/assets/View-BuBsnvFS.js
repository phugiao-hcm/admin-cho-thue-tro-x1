import{d as K,u as Q,e as W,f as C,g as D,o as X,h as s,i as Y,c as P,a as T,w as t,b as l,j as o,k as f,l as d,m as x,t as u,n as Z,p as ee,v as te,q as le}from"./index-_O3ivw8j.js";import{H as oe}from"./HaSection-D4KIcMLj.js";import{_ as ne}from"./PaginationMobile.vue_vue_type_script_setup_true_lang-D8DNtcVE.js";import{g as ae,c as se,a as ie,b as re}from"./firebaseConfig-Da22ytOl.js";import{P as b}from"./const-DwMsQYav.js";import{u as de,_ as ue}from"./PopupRemove.vue_vue_type_script_setup_true_lang-zg89Lv_C.js";const pe=ie(re);async function me(){return(await ae(se(pe,"posts"))).docs.map(p=>({id:p.id,...p.data()}))}const ce={class:"flex-between",style:{margin:"16px 0"}},_e={class:"flex-center"},fe={class:"radio-group-outer",style:{margin:"16px 0"}},ge={class:"el-table-outer"},be={class:"body-small-regular neutral-600"},ye={class:"body-small-regular neutral-600"},we={class:"body-small-regular neutral-600"},he={class:"body-small-regular neutral-600 text-hidden-2"},ve={class:"el-popover_item"},ke=K({__name:"View",setup(S){const{setStatus:p,setTypeStatus:V}=de(),{formatPrice:j}=Q(),y=W(),m=C([]),g=D({isLoading:!1}),i=D({page:1,limit:10,keyword:""}),w=()=>{console.log("getRoomTypeList")},R=a=>{i.page=1,i.limit=a,i.page===1&&w()},L=a=>{i.page=a,w()},E=async()=>{try{g.isLoading=!0,m.value=await me(),console.log("tableData :",m)}catch(a){console.error(a)}finally{g.isLoading=!1}};X(()=>{E()});const B=()=>{y.push({name:"ProjectCreate"})},N=()=>{},$=a=>{console.log("onDirectProjectEdit :",a)},h=C(null),A=a=>{h.value?.open(a)},F=a=>{y.push({name:"ProjectDetail",params:{id:a}})};return(a,e)=>{const U=s("el-input"),c=s("el-button"),_=s("el-radio-button"),q=s("el-radio-group"),z=s("el-image"),r=s("el-table-column"),I=s("el-link"),G=s("el-tooltip"),H=s("el-tag"),v=s("el-icon"),J=s("el-popover"),M=s("el-table"),O=Y("loading");return T(),P(oe,null,{default:t(()=>[l("div",ce,[e[3]||(e[3]=l("p",{class:"body-large-semi-bold neutral-700"},"Danh sách Tin đăng",-1)),l("div",_e,[l("div",null,[o(U,{modelValue:i.keyword,"onUpdate:modelValue":e[0]||(e[0]=n=>i.keyword=n),style:{width:"240px"},placeholder:"Nhập tìm kiếm..."},null,8,["modelValue"])]),l("div",null,[o(c,{type:"primary",onClick:B},{default:t(()=>e[2]||(e[2]=[f("Tạo Tin đăng",-1)])),_:1,__:[2]})])])]),l("div",fe,[o(q,{modelValue:i.keyword,"onUpdate:modelValue":e[1]||(e[1]=n=>i.keyword=n),onChange:N},{default:t(()=>[o(_,{label:""},{default:t(()=>e[4]||(e[4]=[l("span",null,"Tất cả",-1),l("span",{class:"custom-num"}," 10",-1)])),_:1,__:[4]}),o(_,{label:d(b).PENDING},{default:t(()=>e[5]||(e[5]=[l("span",null,"Đang chờ xử lý ",-1),l("span",{class:"custom-num"}," 2",-1)])),_:1,__:[5]},8,["label"]),o(_,{label:d(b).APPROVED},{default:t(()=>e[6]||(e[6]=[l("span",null,"Đã duyệt ",-1),l("span",{class:"custom-num"}," 2",-1)])),_:1,__:[6]},8,["label"]),o(_,{label:d(b).REJECTED},{default:t(()=>e[7]||(e[7]=[l("span",null,"Bị từ chối ",-1),l("span",{class:"custom-num"}," 2",-1)])),_:1,__:[7]},8,["label"])]),_:1},8,["modelValue"])]),l("div",ge,[x((T(),P(M,{data:m.value,"header-cell-style":{background:"#F9FAFB",borderBottom:"1px solid #D0D5DD",paddingTop:"10px",paddingBottom:"10px"}},{default:t(()=>[o(r,{"min-width":"130"},{header:t(()=>e[8]||(e[8]=[l("p",{class:"body-small-semi-bold neutral-500"},"Ảnh đại diện",-1)])),default:t(n=>[o(z,{src:n.row.imageList?n.row.imageList[0].imagePath:"",style:{width:"100px"},fit:"cover"},null,8,["src"])]),_:1}),o(r,{"min-width":"220"},{header:t(()=>e[9]||(e[9]=[l("p",{class:"body-small-semi-bold neutral-500"},"Tiêu đề",-1)])),default:t(n=>[o(I,{type:"primary",underline:"never",onClick:k=>F(n.row.id)},{default:t(()=>[f(u(n.row.nameAccommodation),1)]),_:2},1032,["onClick"])]),_:1}),o(r,{"min-width":"160"},{header:t(()=>e[10]||(e[10]=[l("p",{class:"body-small-semi-bold neutral-500"},"Giá (/1 phòng)",-1)])),default:t(n=>[l("p",be,u(d(j)(n.row.price)),1)]),_:1}),o(r,{"min-width":"220"},{header:t(()=>e[11]||(e[11]=[l("p",{class:"body-small-semi-bold neutral-500"},"Địa chỉ",-1)])),default:t(n=>[l("p",ye,u(n.row.address),1)]),_:1}),o(r,{"min-width":"220"},{header:t(()=>e[12]||(e[12]=[l("p",{class:"body-small-semi-bold neutral-500"},"Tiện ích",-1)])),default:t(n=>[l("p",we,u(n.row.facilities?n.row.facilities[0]:""),1)]),_:1}),o(r,{"min-width":"220"},{header:t(()=>e[13]||(e[13]=[l("p",{class:"body-small-semi-bold neutral-500"},"Mô tả",-1)])),default:t(n=>[o(G,{content:n.row.description,placement:"top",effect:"dark"},{default:t(()=>[l("p",he,u(n.row.description),1)]),_:2},1032,["content"])]),_:1}),o(r,{"min-width":"220"},{header:t(()=>e[14]||(e[14]=[l("p",{class:"body-small-semi-bold neutral-500"},"Trạng thái",-1)])),default:t(n=>[o(H,{type:d(V)(n.row.status)},{default:t(()=>[f(u(d(p)(n.row.status)),1)]),_:2},1032,["type"])]),_:1}),o(r,{"min-width":"160",align:"center",fixed:"right"},{default:t(n=>[o(J,{placement:"left-start",width:200,trigger:"click"},{reference:t(()=>[o(c,{type:"primary",plain:""},{default:t(()=>e[15]||(e[15]=[f("Thao tác",-1)])),_:1,__:[15]})]),default:t(()=>[l("div",ve,[l("div",null,[o(c,{link:"",type:"primary",onClick:k=>$(n.row.status)},{default:t(()=>[o(v,null,{default:t(()=>[o(d(Z))]),_:1}),e[16]||(e[16]=l("span",null,"Chỉnh sửa",-1))]),_:2,__:[16]},1032,["onClick"])]),l("div",null,[o(c,{link:"",type:"danger",onClick:k=>A(n.row)},{default:t(()=>[o(v,null,{default:t(()=>[o(d(ee))]),_:1}),e[17]||(e[17]=l("span",null,"Ngừng kinh doanh",-1))]),_:2,__:[17]},1032,["onClick"])])])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[O,g.isLoading]]),x(o(ne,{ref:"paginationRef",pageSizes:[10,20,30,50],onChangePageSize:R,onChangeCurrentPage:L},null,512),[[te,m.value.length!==0]])]),o(ue,{ref_key:"dialogRef",ref:h},null,512)]),_:1})}}}),Ve=le(ke,[["__scopeId","data-v-dc385e74"]]);export{Ve as default};
